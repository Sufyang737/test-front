{
  "name": "profile_lead",
  "type": "base",
  "schema": [
    {
      "name": "instagram",
      "type": "url",
      "required": false
    },
    {
      "name": "facebook",
      "type": "url",
      "required": false
    },
    {
      "name": "x",
      "type": "url",
      "required": false
    },
    {
      "name": "name_client",
      "type": "text",
      "required": true
    },
    {
      "name": "name_company",
      "type": "text",
      "required": false
    },
    {
      "name": "description_company",
      "type": "text",
      "required": false
    },
    {
      "name": "conversation",
      "type": "relation",
      "required": true,
      "options": {
        "collectionId": "conversation",
        "cascadeDelete": true
      }
    },
    {
      "name": "client_id",
      "type": "text",
      "required": true
    }
  ],
  "listRule": "@request.auth.id != \"\" && (client_id = @request.auth.id || @request.auth.role = \"support\")",
  "viewRule": "@request.auth.id != \"\" && (client_id = @request.auth.id || @request.auth.role = \"support\")",
  "createRule": "@request.auth.id != \"\"",
  "updateRule": "@request.auth.id != \"\" && (client_id = @request.auth.id || @request.auth.role = \"support\")",
  "deleteRule": "@request.auth.id != \"\" && @request.auth.role = \"support\""
} 